function onewayHide(){if(document.forms.form1.elements.Air_TripType1.checked)document.getElementById("retDateDisplay_date").style.display="none",document.getElementById("retDateDisplay_time").style.display="none",document.getElementById("trip_type").value="O",document.getElementById("flax_container_div").style.display="none",document.getElementById("multi_des_01").style.display="none",document.getElementById("air_Loc_dep_m_2").value="TEST",document.getElementById("air_Loc_to_m_2").value="TEST",document.getElementById("multi_des_02").style.display="none",document.getElementById("air_Loc_dep_m_3").value="TEST",document.getElementById("air_Loc_to_m_3").value="TEST",document.getElementById("multi_des_03").style.display="none",document.getElementById("air_Loc_dep_m_4").value="TEST",document.getElementById("air_Loc_to_m_4").value="TEST",document.getElementById("multi_des_04").style.display="none",document.getElementById("air_Loc_dep_m_5").value="TEST",document.getElementById("air_Loc_to_m_5").value="TEST";else if(document.forms.form1.elements.Air_TripType3.checked){var e=new Date($("#air_departure").val());document.getElementById("retDateDisplay_date").style.display="none",document.getElementById("retDateDisplay_time").style.display="none",document.getElementById("trip_type").value="M",document.getElementById("flax_container_div").style.display="none",document.getElementById("multi_des_01").style.display="block",document.getElementById("air_Loc_dep_m_2").value="",document.getElementById("air_Loc_to_m_2").value="",document.getElementById("hid_air_Loc_dep_m_2").value="",document.getElementById("hid_air_Loc_to_m_2").value="",e.setTime(e.getTime()+864e5);var t=e.getMonth()+1;t=""+String(t).length==1?"0"+t:t,document.getElementById("air_departure_2").value=t+"/"+e.getDate()+"/"+e.getFullYear(),document.getElementById("multi_des_02").style.display="none",document.getElementById("air_Loc_dep_m_3").value="",document.getElementById("air_Loc_to_m_3").value="",document.getElementById("hid_air_Loc_dep_m_3").value="",document.getElementById("hid_air_Loc_to_m_3").value="",e.setTime(e.getTime()+864e5),t=e.getMonth()+1,t=""+String(t).length==1?"0"+t:t,document.getElementById("air_departure_3").value=t+"/"+e.getDate()+"/"+e.getFullYear(),document.getElementById("multi_des_03").style.display="none",document.getElementById("air_Loc_dep_m_4").value="",document.getElementById("air_Loc_to_m_4").value="",document.getElementById("hid_air_Loc_dep_m_4").value="",document.getElementById("hid_air_Loc_to_m_4").value="",e.setTime(e.getTime()+864e5),t=e.getMonth()+1,t=""+String(t).length==1?"0"+t:t,document.getElementById("air_departure_4").value=t+"/"+e.getDate()+"/"+e.getFullYear(),document.getElementById("multi_des_04").style.display="none",document.getElementById("air_Loc_dep_m_5").value="",document.getElementById("air_Loc_to_m_5").value="",document.getElementById("hid_air_Loc_dep_m_5").value="",document.getElementById("hid_air_Loc_to_m_5").value="",e.setTime(e.getTime()+864e5),t=e.getMonth()+1,t=""+String(t).length==1?"0"+t:t,document.getElementById("air_departure_5").value=t+"/"+e.getDate()+"/"+e.getFullYear()}else void 0!=document.forms.form1.elements.Air_TripType2&&document.forms.form1.elements.Air_TripType2.checked&&(document.getElementById("retDateDisplay_date").style.display="inline-block",document.getElementById("retDateDisplay_time").style.display="inline-block",document.getElementById("trip_type").value="R",document.getElementById("flax_container_div").style.display="block",document.getElementById("multi_des_01").style.display="none",document.getElementById("air_Loc_dep_m_2").value="TEST",document.getElementById("air_Loc_to_m_2").value="TEST",document.getElementById("hid_air_Loc_dep_m_2").value="TEST",document.getElementById("hid_air_Loc_to_m_2").value="TEST",document.getElementById("multi_des_02").style.display="none",document.getElementById("air_Loc_dep_m_3").value="TEST",document.getElementById("air_Loc_to_m_3").value="TEST",document.getElementById("hid_air_Loc_dep_m_3").value="TEST",document.getElementById("hid_air_Loc_to_m_3").value="TEST",document.getElementById("multi_des_03").style.display="none",document.getElementById("air_Loc_dep_m_4").value="TEST",document.getElementById("air_Loc_to_m_4").value="TEST",document.getElementById("hid_air_Loc_dep_m_4").value="TEST",document.getElementById("hid_air_Loc_to_m_4").value="TEST",document.getElementById("multi_des_04").style.display="none",document.getElementById("air_Loc_dep_m_5").value="TEST",document.getElementById("air_Loc_to_m_5").value="TEST",document.getElementById("hid_air_Loc_dep_m_5").value="TEST",document.getElementById("hid_air_Loc_to_m_5").value="TEST");setTimeout("resizeContainer()",200)}function onewayHide_V(){document.forms.form1.elements.Air_TripType1_V.checked?(document.getElementById("retDateDisplay_V").style.display="none",document.getElementById("trip_type_v").value="O"):document.forms.form1.elements.Air_TripType2_V.checked&&(document.getElementById("retDateDisplay_V").style.display="block",document.getElementById("trip_type_v").value="R")}function returnLocHide(){document.forms.form1.elements._ReturnCar.checked?(document.getElementById("retLocDisplay").style.display="none",document.getElementById("car_Loc1").style.display="none",document.getElementById("car_Loc1").setAttribute("validate","formcar"),document.getElementById("car_Loc1").value=document.getElementById("car_Loc").value,document.getElementById("hid_car_Loc1").value=document.getElementById("hid_car_Loc").value):document.forms.form1.elements._ReturnCar&&(document.getElementById("retLocDisplay").style.display="block",document.getElementById("car_Loc1").style.display="block")}function checkFlex(e){"Yes"==e?(document.getElementById("Air_DepTime_a").style.display="none",document.getElementById("dep_flexx").style.display="block",document.getElementById("Air_RetTime_a").style.display="none",document.getElementById("ret_flexx").style.display="block",document.getElementById("dep_time_txt").innerHTML="Days",document.getElementById("ret_time_txt").innerHTML="Days",document.ResPkgSearchForm.isFlex.value="Y"):(document.getElementById("Air_DepTime_a").style.display="block",document.getElementById("dep_flexx").style.display="none",document.getElementById("Air_RetTime_a").style.display="block",document.getElementById("ret_flexx").style.display="none",document.getElementById("ret_time_txt").innerHTML="Return Time",document.getElementById("dep_time_txt").innerHTML="Departing Time",document.ResPkgSearchForm.isFlex.value="N")}function location_show(e){$("#pickUpCity_H_Loc").removeAttr("validate"),$("#pickUpCity_A_Loc").removeAttr("validate"),"hotel_location_drop"==e?(document.getElementById("pickUpCity_A_Loc").setAttribute("validate","formTBK"),document.getElementById("pickUpCity_H_Loc").setAttribute("validate","formT"),document.getElementById("hid_pickUpCity_H_Loc").value="",document.getElementById("hid_pickUpCity_A_Loc").value="TEST",document.getElementById("pickUpCity_H_Loc").value="",document.getElementById("pickUpCity_A_Loc").value="TEST",document.getElementById("airport_drop").style.display="none",document.getElementById("hotel_drop").style.display="block"):(document.getElementById("pickUpCity_A_Loc").setAttribute("validate","formT"),document.getElementById("pickUpCity_H_Loc").setAttribute("validate","formTBK"),document.getElementById("hid_pickUpCity_A_Loc").value="",document.getElementById("hid_pickUpCity_H_Loc").value="TEST",document.getElementById("pickUpCity_A_Loc").value="",document.getElementById("pickUpCity_H_Loc").value="TEST",document.getElementById("hotel_drop").style.display="none",document.getElementById("airport_drop").style.display="block")}function flightHide(){document.getElementById("Package_Type2").checked?(document.getElementById("Include_Flight").style.display="block",document.getElementById("Exclude_Flight").style.display="none",document.getElementById("package_Ex_des").setAttribute("validate","formpkg"),document.getElementById("package_Ex_des").value="TEST",document.getElementById("hid_package_Ex_des").value="TEST",document.getElementById("package_Loc_des").value="",document.getElementById("package_Loc_ori").value="",document.getElementById("hid_package_Loc_ori").value="",document.getElementById("hid_package_Loc_des").value="",document.getElementById("package_Loc_ori").setAttribute("validate","formP"),document.getElementById("package_Loc_des").setAttribute("validate","formP"),loadFpkgCountryAutocomplete()):document.getElementById("Package_Type1").checked&&(document.getElementById("Include_Flight").style.display="none",document.getElementById("Exclude_Flight").style.display="block",document.getElementById("package_Ex_des").setAttribute("validate","formP"),document.getElementById("package_Loc_des").setAttribute("validate","formpkg"),document.getElementById("package_Loc_ori").setAttribute("validate","formpkg"),document.getElementById("package_Loc_des").value="TEST",document.getElementById("package_Loc_ori").value="TEST",document.getElementById("hid_package_Loc_ori").value="TEST",document.getElementById("hid_package_Loc_des").value="TEST",document.getElementById("package_Ex_des").value="",document.getElementById("hid_package_Ex_des").value="",loadFpkgCountryAutocomplete())}function setEngType(e){$("#engLoaded").val(e),roomocc(e,$("#norooms_"+e).val()),fillForm(e),internalBEC&&($("#loading_window").hide(),setTimeout("hideMask()",200)),setTimeout("resizeContainer()",10)}function opts(e,t,a){for(var o="",n=e;t>=n;n++)o+=isNaN(a)?'<option value="'+n+'">'+n+"</option>\n":a==n?'<option value="'+n+'" selected="selected">'+n+"</option>\n":'<option value="'+n+'">'+n+"</option>\n";return o}function roomocc(e,t,a){if(e.length>1){var o=e.split("_");e=o[1]}else e=e;$("#roomCombo"+e).empty(),$("#roomCombo"+e).append(roomoccstring(e,t,a))}function roomoccstring(e,t,a){var o="";for(i=0;i<t;i++)if("V"==e||"F"==e)try{var n="";"V"==e&&(n='<div class="option-sub-label"><br />房间 '+(i+1)+"</div>"),o+='<div class="flight-passenger-container">'+n+'<div class="flight-passenger-option"><div><label class="flight-passenger-label label-bg-common">成人 <span class=\'italic\'> (s) </i></label></div><div><select id="R'+(i+1)+"occAdults_"+e+'" name="R'+(i+1)+"occAdults_"+e+'" class="flight-passenger-select" onChange="resizeContainer('+a+");setInfant(this,'R1occInfant_"+e+"');\">\n"+opts(1,9,1)+'</select></div></div><div class="flight-passenger-option"><div><label class="flight-passenger-label label-bg-common">儿童<span class=\'italic\'></span></label></div><div><select id="R'+(i+1)+"occChildren_"+e+'" name="R'+(i+1)+"occChildren_"+e+'" class="flight-passenger-select" onChange="showages(\''+e+"',"+(i+1)+",this.value);resizeContainer("+a+');">\n'+opts(0,4,0)+'</select></div></div><div class="flight-passenger-option"><div><label class="flight-passenger-label label-bg-common">婴儿<span class=\'italic\'>（0-23个月）</span></label></div><div><select id="R'+(i+1)+"occInfant_"+e+'" name="R'+(i+1)+"occInfant_"+e+'" class="flight-passenger-select" onChange="resizeContainer(\''+a+"');\">\n"+opts(0,1,0)+'</select></div></div><ul class="flight-child-container" id="'+e+"_room_"+(i+1)+'_ages"></div></ul>'}catch(e){alert(e)}else("H"==e||"T"==e)&&(o+='<div class="hotel-passenger-block"><ul><li class="hotel-passenger-label-text hotel-room-count">房间 '+(i+1)+'</li><li><div><label class="hotel-passenger-label option-sub-label">成人 </label></div><div><select id="R'+(i+1)+"occAdults_"+e+'" class="hotel-passenger-select" onChange="resizeContainer('+a+');">\n'+opts(1,9,1)+'</select></div></li><li><div><label class="hotel-passenger-label option-sub-label"> 儿童</label></div><div><select id="R'+(i+1)+"occChildren_"+e+'" class="hotel-passenger-select" onChange="showages(\''+e+"',"+(i+1)+",this.value);resizeContainer("+a+');">\n'+opts(0,4,0)+'</select></div></li></ul><ul class="hotel-age-field"><li id="'+e+"_room_"+(i+1)+'_ages"></li></ul></div>');return"A"==e&&(o+='<ul class="activity-passenger-count"><li><div><label class="activity-passenger-label label-bg-common">成人<span class=\'italic\'>(18+)</span></label></div><div><select id="R1occAdults_'+e+'" class="user-options-select" onChange="resizeContainer('+a+');">\n'+opts(1,9,1)+'</select></div></li><li><div><label class="activity-passenger-label label-bg-common">儿童<span class=\'italic\'></span></label></div><div><select id="R1occChildren_'+e+'" class="user-options-select" onChange="showages(\''+e+"',1,this.value);resizeContainer("+a+');">\n'+opts(0,4,0)+'</select></div></li></ul><div id="'+e+'_room_1_ages"></div>'),o}function setInfant(e,t){$("#"+t).html(opts(0,$(e).val(),0))}function showages(e,t,a){$("#"+e+"_room_"+t+"_ages").empty(),$("#"+e+"_room_"+t+"_ages").append(showagesstring(e,t,a))}function showagesstring(e,t,a){var o="";for(a>0&&(o='<li class="flight-child-label"><span class="hotel-passenger-label-text">小孩的年龄</span></li>'),o+="<li class='flight-child-age'>",x=0;x<a;x++)o+="F"==e||"V"==e?'<div><select id="'+e+"_R"+t+"childage_"+(x+1)+'" class="flight-passenger-select" onChange="resizeContainer();">\n'+opts(2,11,1)+"</select></div>":'<div><select id="'+e+"_R"+t+"childage_"+(x+1)+'" class="flight-passenger-select" onChange="resizeContainer();">\n'+opts(1,11,1)+"</select></div>";return o+="</li>"}function setSelRoomOcc(e){var t="";for(i=0;i<$("#norooms_"+e).val();i++){if(t+=$("#R"+(i+1)+"occAdults_"+e).val()+"|"+$("#R"+(i+1)+"occChildren_"+e).val()+"|",$("#R"+(i+1)+"occChildren_"+e).val()>0){var a="";for(j=0;j<$("#R"+(i+1)+"occChildren_"+e).val();j++)a+=$("#"+e+"_R"+(i+1)+"childage_"+(j+1)).val(),j+1<$("#R"+(i+1)+"occChildren_"+e).val()&&(a+=",");t=t+a+"|%|%|"}else t+="-|%|%|";t+=$("#R"+(i+1)+"occInfant_"+e).val()>0?$("#R"+(i+1)+"occInfant_"+e).val()+"@":"-@"}return t}function setSelRoomOccForFlight(){var e="";if(e+=$("#numberOfAdults").val()+"|"+$("#numberOfChilds").val()+"|",$("#numberOfChilds").val()>0){var t="";for(j=0;j<$("#numberOfChilds").val();j++)t+="1",j+1<$("#numberOfChilds").val()&&(t+=",");e=e+t+"|%|%|"}else e+="-|%|%|";return e+=$("#numberOfInfants").val()>0?$("#numberOfInfants").val()+"@":"-@"}function setinfantcount(e){var t=0;for(i=0;i<$("#norooms_"+e).val();i++)t+=parseInt($("#R"+(i+1)+"occInfant_"+e).val());return t}function setchildcount(e){var t=0;for(i=0;i<$("#norooms_"+e).val();i++)t+=parseInt($("#R"+(i+1)+"occChildren_"+e).val());return t}function setadultcount(e){var t=0;for(i=0;i<$("#norooms_"+e).val();i++)t+=parseInt($("#R"+(i+1)+"occAdults_"+e).val());return t}function search(e){try{window.parent.initForm()}catch(t){}var a=!1;try{a=window.parent.searchValidate()}catch(t){}a||defaultDataWithRegionAndCountry(e)}function Processing(){$("#rez-preloader",parent.document).fadeIn()}function doWJTSearch(e){var t=convertJson(e,"BEC_HOTEL_WEB_AGAIN"==e.place.value);IWC(new IWCParams(e.place.value,"RESULT","SEARCH","",t,$("#transectionId").val(),0))}function submitData(){Processing(),internalBEC?doWJTSearch(document.forms.ResPkgSearchForm):(document.forms.ResPkgSearchForm.target="_parent",document.forms.ResPkgSearchForm.submit())}function LoadData_V(){with(document.form1){var seatClass="";"Economy"==document.forms.form1.elements.Air_FlightClass.options[document.forms.form1.elements.Air_FlightClass.selectedIndex].value?seatClass="Economy":"Business"==document.forms.form1.elements.Air_FlightClass.options[document.forms.form1.elements.Air_FlightClass.selectedIndex].value?seatClass="Business":"First"==document.forms.form1.elements.Air_FlightClass.options[document.forms.form1.elements.Air_FlightClass.selectedIndex].value&&(seatClass="First");var stateCode="";stateCode="-"==V_RetLocHid.value.split("|")[4]||""==V_RetLocHid.value.split("|")[4]?"0":V_RetLocHid.value.split("|")[4];var inDate=new Date(Date.parse(vac_departure.value)),outDate=new Date(Date.parse(vac_arrival.value)),vnights=(outDate-inDate)/864e5;if($("#checkInDate").val(vac_departure.value),$("#checkOutDate").val(vac_arrival.value),$("#checkInTime").val(Air_DepTime.value),$("#checkOutTime").val(Air_RetTime.value),$("#cityCode").val(hid_H_Loc_V.value),$("#cityName").val(hid_H_Loc_V.value.split("|")[1]),$("#countryCode").val(V_RetLocHid.value.split("|")[5]),$("#countryName").val(V_RetLocHid.value.split("|")[5]),$("#stateCode").val(stateCode),$("#startingLocationName").val(V_DepFromHid.value.split("|")[0]),$("#startingLocationCode").val(V_DepFromHid.value),$("#startingCountryCode").val(V_DepFromHid.value.split("|")[5]),$("#endingCountryCode").val("0"),$("#endingLocationName").val(V_RetLocHid.value.split("|")[0]),$("#endingLocationCode").val(V_RetLocHid.value),$("#numberOfNights").val(vnights),$("#numberOfRooms").val($("#norooms_V").val()),$("#numberOfAdults").val(setadultcount("V")),$("#numberOfChilds").val(setchildcount("V")),$("#numberOfInfants").val(setinfantcount("V")),$("#numberOfSeniors").val("0"),$("#airLine").val(Air_line_V.value),$("#userPassword").val("0"),$("#forwardURL").val("0"),$("#vacationPkg").val("Y"),$("#cacheKey").val("0"),$("#sessionName").val("0"),$("#isbackOfficePartnerLink").val("0"),$("#enabledPublicDCLogin").val("0"),$("#enableConsumerRegion").val("0"),$("#bookType").val("0"),$("#consumerCountryId").val(V_Country.value),$("#consumerRegionId").val(V_Country.value),$("#languageCode").val("0"),$("#consumerCurrencyCode").val(V_consumerCurrencyCode.value),$("#guestList").val(setSelRoomOcc("V")),$("#vacationpkg").val("Y"),$("#seatClass").val(seatClass),$("#tripType").val(trip_type_v.value),$("#discountCouponNo").val(discountCoupon_No_V.value),$("#hotelStarId").val(star_rating_V.value),$("#hotelTypeId").val(hType_v.value),$("#isFlexSearch").val(isFlexSearch_V.checked?"Y":"N"),V_DepFromHid.value.split("|")[0]!=V_DepFrom.value)return $("#V_DepFromHid").val(""),validate("form");if(V_RetLocHid.value.split("|")[0]!=V_RetLoc.value)return $("#V_RetLocHid").val(""),validate("form");document.forms.ResPkgSearchForm.action=subURL+"Search.do?method=loadWithResults"}}function LoadData_H(){with(document.form1){var stateCode="";stateCode="-"==hid_H_Loc.value.split("|")[2]||""==hid_H_Loc.value.split("|")[2]?"0":hid_H_Loc.value.split("|")[2],$("#checkInDate").val(ho_departure.value),$("#checkOutDate").val(ho_arrival.value),$("#cityCode").val(hid_H_Loc.value),$("#cityName").val(hid_H_Loc.value.split("|")[1]),$("#countryCode").val(hid_H_Loc.value.split("|")[3]),$("#countryName").val(hid_H_Loc.value.split("|")[5]),$("#stateCode").val(stateCode),$("#numberOfNights").val(H_nights.value),$("#numberOfRooms").val($("#norooms_H").val()),$("#numberOfAdults").val(setadultcount("H")),$("#numberOfChilds").val(setchildcount("H")),$("#numberOfInfants").val(setinfantcount("H")),$("#numberOfSeniors").val("0");try{$("#destinationCountry").val(destinationcountry?destinationcountry.value:"")}catch(e){}if($("#forwardURL").val("0"),$("#cacheKey").val("0"),$("#sessionName").val("0"),$("#isbackOfficePartnerLink").val("0"),$("#enabledPublicDCLogin").val("0"),$("#enableConsumerRegion").val("0"),$("#bookType").val("0"),$("#consumerCountryId").val(H_Country.value),$("#consumerRegionId").val(H_Country.value),$("#languageCode").val("en"),$("#consumerCurrencyCode").val(H_consumerCurrencyCode.value),$("#guestList").val(setSelRoomOcc("H")),$("#vacationpkg").val("N"),$("#tripType").val("R"),$("#starRating").val(star_rating_H.value),$("#hotelType").val(hType_h.value),$("#hotelName").val(H_name.value),$("#selectedHotelRideCode").val(H_ridecode.value),$("#sortHotelBy").val("hotelRank,minimumRate"),$("#hotelStarId").val(star_rating_H.value),$("#starRating_Hotels").val(star_rating_H.value),$("#hotelTypeId").val(hType_h.value),$("#hotelName").val(H_name.value),$("#selectedHotelRideCode").val(H_ridecode.value),$("#priceLevelFrom").val(priceLevelFrom_H.value),$("#priceLevelTo").val(priceLevelTo_H.value),$("#availableHotels").val(availableHotels_H.checked?"on":"off"),$("#onRequestHotels").val(onRequestHotels_H.checked?"on":"off"),$("#discountCouponNo").val(discountCoupon_No_H.value),hid_H_Loc.value.split("|")[1]!=H_Loc.value)return $("#hid_H_Loc").val(""),validate("formH");document.forms.ResPkgSearchForm.action=subURL+"Search.do?method=loadWithResults"}}function LoadData_F(){with(document.form1){var seatClass="";"Economy"==document.forms.form1.elements.Aira_FlightClass.options[document.forms.form1.elements.Aira_FlightClass.selectedIndex].value?seatClass="Economy":"Business"==document.forms.form1.elements.Aira_FlightClass.options[document.forms.form1.elements.Aira_FlightClass.selectedIndex].value?seatClass="Business":"First"==document.forms.form1.elements.Aira_FlightClass.options[document.forms.form1.elements.Aira_FlightClass.selectedIndex].value&&(seatClass="First");var stateCode="";if(stateCode="-"==hid_air_Loc1_a.value.split("|")[4]||""==hid_air_Loc1_a.value.split("|")[4]?"0":hid_air_Loc1_a.value.split("|")[4],$("#nonStopStatus").val(nonstop_flight.checked?"Nonstop":"off"),document.forms.form1.elements.Air_TripType3.checked){var checkindate="";checkindate=air_departure.value+(""!=air_departure_2.value?" | "+air_departure_2.value:"")+(""!=air_departure_3.value?" | "+air_departure_3.value:"")+(""!=air_departure_4.value?" | "+air_departure_4.value:"")+(""!=air_departure_5.value?" | "+air_departure_5.value:""),$("#checkInDate").val(checkindate),$("#checkOutDate").val("")}else $("#checkInDate").val(air_departure.value),$("#checkOutDate").val(air_arrival.value);if($("#checkInTime").val(Air_DepTime_a.value),$("#checkOutTime").val(Air_RetTime_a.value),$("#cityCode").val(hid_air_Loc1_a.value.split("|")[2]+"|"+hid_air_Loc1_a.value.split("|")[0]),$("#cityName").val(hid_air_Loc1_a.value.split("|")[0]),$("#countryCode").val(hid_air_Loc1_a.value.split("|")[5]),$("#countryName").val(hid_air_Loc1_a.value.split("|")[5]),$("#stateCode").val(stateCode),$("#startingLocationName").val(hid_air_Loc_a.value.split("|")[0]),$("#startingLocationCode").val(hid_air_Loc_a.value),$("#startingCountryCode").val(hid_air_Loc_a.value.split("|")[5]),$("#endingCountryCode").val("0"),$("#endingLocationName").val(hid_air_Loc1_a.value.split("|")[0]),$("#endingLocationCode").val(hid_air_Loc1_a.value),$("#startingFligtLocationTwoName").val(hid_air_Loc_dep_m_2.value.split("|")[0]),$("#startingFligtLocationTwoCode").val(hid_air_Loc_dep_m_2.value),$("#endingFligtLocationTwoName").val(hid_air_Loc_to_m_2.value.split("|")[0]),$("#endingFligtLocationTwoCode").val(hid_air_Loc_to_m_2.value),$("#flightCheckInDateTwo").val(air_departure_2.value),$("#flightCheckInTimeTwo").val(Air_DepTime_a_2.value),$("#startingFligtLocationThreeName").val(hid_air_Loc_dep_m_3.value.split("|")[0]),$("#startingFligtLocationThreeCode").val(hid_air_Loc_dep_m_3.value),$("#endingFligtLocationThreeName").val(hid_air_Loc_to_m_3.value.split("|")[0]),$("#endingFligtLocationThreeCode").val(hid_air_Loc_to_m_3.value),$("#flightCheckInDateThree").val(air_departure_3.value),$("#flightCheckInTimeThree").val(Air_DepTime_a_3.value),$("#startingFligtLocationFourName").val(hid_air_Loc_dep_m_4.value.split("|")[0]),$("#startingFligtLocationFourCode").val(hid_air_Loc_dep_m_4.value),$("#endingFligtLocationFourName").val(hid_air_Loc_to_m_4.value.split("|")[0]),$("#endingFligtLocationFourCode").val(hid_air_Loc_to_m_4.value),$("#flightCheckInDateFour").val(air_departure_4.value),$("#flightCheckInTimeFour").val(Air_DepTime_a_4.value),$("#startingFligtLocationFiveName").val(hid_air_Loc_dep_m_5.value.split("|")[0]),$("#startingFligtLocationFiveCode").val(hid_air_Loc_dep_m_5.value),$("#endingFligtLocationFiveName").val(hid_air_Loc_to_m_5.value.split("|")[0]),$("#endingFligtLocationFiveCode").val(hid_air_Loc_to_m_5.value),$("#flightCheckInDateFive").val(air_departure_5.value),$("#flightCheckInTimeFive").val(Air_DepTime_a_5.value),$("#numberOfNights").val(F_nights.value),$("#numberOfNights").val(air_nights.value),$("#numberOfAdults").val(R1occAdults_F.value),$("#numberOfChilds").val(R1occChildren_F.value),$("#numberOfInfants").val(R1occInfant_F.value),$("#numberOfSeniors").val(0),$("#airLine").val(Air_line.value),$("#portal").val("0"),$("#userCode").val("0"),$("#userName").val("0"),$("#userPassword").val("0"),$("#forwardURL").val("0"),$("#vacationPkg").val("N"),$("#isbackOfficePartnerLink").val("0"),$("#enabledPublicDCLogin").val("0"),$("#enableConsumerRegion").val("0"),$("#actionTyp").val("0"),$("#bookType").val("0"),$("#consumerCountryId").val(F_Country.value),$("#consumerRegionId").val(F_Country.value),$("#languageCode").val("en"),$("#consumerCurrencyCode").val(F_consumerCurrencyCode.value),$("#vacationpkg").val("N"),$("#seatClass").val(seatClass),$("#guestList").val(setSelRoomOcc("F")),$("#tripType").val(trip_type.value),$("#discountCouponNo").val(discountCoupon_No_F.value),$("#isFlexSearch").val(isFlexSearch_F.checked?"Y":"N"),hid_air_Loc_a.value.split("|")[0]!=air_Loc_a.value)return $("#hid_air_Loc_a").val(""),validate("formF");if(hid_air_Loc1_a.value.split("|")[0]!=air_Loc1_a.value)return $("#hid_air_Loc1_a").val(""),validate("formF");document.forms.ResPkgSearchForm.action=subURL+"Search.do?method=loadWithResults"}}function LoadData_T(){with(document.form1){if(hotel_location_drop[0].checked)$("#cityCode").val(hid_pickUpCity_H_Loc.value),$("#cityName").val(hid_pickUpCity_H_Loc.value.split("|")[1]),$("#countryCode").val(hid_pickUpCity_H_Loc.value.split("|")[3]),$("#countryName").val(hid_pickUpCity_H_Loc.value.split("|")[5]),$("#checkInDate").val(tr_arrival.value),$("#checkOutDate").val(tr_arrival.value),$("#transferTime").val(tr_arrivalTime.value),$("#pickUpCode").val(pickUpLocationType.value),$("#dropOffCode").val("H"),$("#dropOffCityName").val(dropOffCity_H_Loc.value),$("#dropOffCityCode").val(hid_dropOffCity_H_Loc.value.split("|")[0]);else if($("#cityCode").val(hid_pickUpCity_A_Loc.value.split("|")[0]),$("#cityName").val(hid_pickUpCity_A_Loc.value.split("|")[1]),$("#countryCode").val(hid_pickUpCity_A_Loc.value.split("|")[3]),$("#countryName").val(hid_pickUpCity_A_Loc.value.split("|")[5]),$("#checkInDate").val(tr_departure.value),$("#checkOutDate").val(tr_departure.value),$("#transferTime").val(tr_depTime.value),$("#pickUpCode").val(dropOffLocationType.value),$("#dropOffCode").val("A"),$("#dropOffCityName").val(dropOffCity_A_Loc.value),$("#dropOffCityCode").val(hid_dropOffCity_A_Loc.value.split("|")[0]),hid_pickUpCity_A_Loc.value.split("|")[1]!=pickUpCity_A_Loc.value)return $("#hid_pickUpCity_A_Loc").val(""),validate("formT");$("#numberOfNights").val(tr_nights.value),$("#numberOfRooms").val($("#norooms_T").val()),$("#numberOfAdults").val(parseInt($("#tr_cmbNoOfAdults").val())),$("#numberOfChilds").val(parseInt($("#tr_cmbNoOfChildren").val())),$("#numberOfInfants").val("0"),$("#numberOfSeniors").val("0"),$("#vacationPkg").val("N"),$("#sessionName").val("0"),$("#isbackOfficePartnerLink").val("0"),$("#enabledPublicDCLogin").val("0"),$("#enableConsumerRegion").val("0"),$("#actionTyp").val("0"),$("#bookType").val("0"),$("#consumerCountryId").val($("#tr_Country").val()),$("#consumerRegionId").val($("#tr_Country").val()),$("#languageCode").val("en"),$("#consumerCurrencyCode").val(tr_consumerCurrencyCode.value),$("#vacationpkg").val("N"),document.forms.ResPkgSearchForm.action=subURL+"Search.do?method=loadWithResults"}}function LoadData_A(){try{with(document.form1){$("#checkInDate").val(ac_departure.value),$("#checkOutDate").val(ac_arrival.value),$("#cityCode").val(hid_AC_Loc.value),$("#cityName").val(hid_AC_Loc.value.split("|")[1]),$("#countryCode").val(hid_AC_Loc.value.split("|")[3]),$("#countryName").val(hid_AC_Loc.value.split("|")[5]),$("#numberOfNights").val(AC_nights.value),$("#numberOfRooms").val($("#norooms_A").val()),$("#numberOfAdults").val(setadultcount("A")),$("#numberOfChilds").val(setchildcount("A")),$("#numberOfInfants").val(setinfantcount("A")),$("#childAges").val(setActivityChildAges()),$("#numberOfSeniors").val("0"),$("#vacationPkg").val("N"),$("#guestList").val(setSelRoomOcc("A")),$("#sessionName").val("0"),$("#isbackOfficePartnerLink").val("0"),$("#enabledPublicDCLogin").val("0"),$("#enableConsumerRegion").val("0"),$("#actionTyp").val("0"),$("#bookType").val("0"),$("#consumerCountryId").val(AC_Country.value),$("#consumerRegionId").val(AC_Country.value),$("#languageCode").val("en"),$("#consumerCurrencyCode").val(AC_consumerCurrencyCode.value),$("#vacationpkg").val("N");try{$("#destinationCountry").val(destinationcountry_A?destinationcountry_A.value:"")}catch(e){}if($("#discountCouponNo").val(discountCoupon_No_A.value),$("#activityTypeId").val(activityTypeId_a.value),hid_AC_Loc.value.split("|")[1]!=activity_Loc.value)return $("#hid_AC_Loc").val(""),validate("formC");document.forms.ResPkgSearchForm.action=subURL+"Search.do?method=loadWithResults"}}catch(e){}}function validateP(){if(document.getElementById("Package_Type2").checked){if(hid_package_Loc_ori.value.split("|")[0]!=package_Loc_ori.value||void 0==hid_package_Loc_ori.value.split("|")[0])return $("#package_Loc_ori").val(""),$("#hid_package_Loc_ori").val(""),validate("formP");if(hid_package_Loc_des.value.split("|")[0]!=package_Loc_des.value||void 0==hid_package_Loc_des.value.split("|")[0])return $("#package_Loc_des").val(""),$("#hid_package_Loc_des").val(""),validate("formP")}return document.getElementById("Package_Type1").checked&&(package_Ex_des,hid_package_Ex_des,hid_package_Ex_des.value.split("|")[1]!=package_Ex_des.value||void 0==hid_package_Ex_des.value.split("|")[1])?($("#package_Ex_des").val(""),$("#hid_package_Ex_des").val(""),validate("formP")):void 0}function LoadData_P(){with(document.form1){var stateCode="";$("#numberofdays").val(No_of_Days.value),document.getElementById("Package_Type2").checked&&($("#includingflight").val("Y"),$("#startingLocationName").val(hid_package_Loc_ori.value.split("|")[0]),$("#startingLocationCode").val(hid_package_Loc_ori.value),$("#endingLocationName").val(hid_package_Loc_des.value.split("|")[0]),$("#endingLocationCode").val(hid_package_Loc_des.value)),document.getElementById("Package_Type1").checked&&($("#includingflight").val("N"),$("#cityCode").val(hid_package_Ex_des.value),$("#cityName").val(hid_package_Ex_des.value.split("|")[1])),$("#selectedFixedPackageTypeCode").val(P_Type.value),$("#selectedFixedPackageTypeName").val(P_Type.text),$("#checkInDate").val(Travel_On.value),$("#numberOfNights").val(No_of_Days.value),$("#stateCode").val(stateCode),$("#startingCountryCode").val(hid_package_Loc_ori.value.split("|")[5]),$("#endingCountryCode").val("0"),$("#numberOfRooms").val($("#norooms_V").val()),$("#vacationPkg").val("N"),$("#consumerCountryId").val(P_Country.value),$("#consumerRegionId").val(P_Country.value),$("#consumerCurrencyCode").val(FP_consumerCurrencyCode.value),$("#languageCode").val("0"),$("#vacationpkg").val("N"),document.forms.ResPkgSearchForm.action=subURL+"Search.do?method=loadWithResults"}}function LoadData_C(){with(document.form1){var stateCode="";if(stateCode="-"==hid_car_Loc1.value.split("|")[4]||""==hid_car_Loc1.value.split("|")[4]?"0":hid_car_Loc1.value.split("|")[4],$("#checkInDate").val(car_departure.value),$("#checkOutDate").val(car_arrival.value),$("#checkInTime").val(PickTime.value),$("#checkOutTime").val(ReturnTime.value),$("#countryCode").val(hid_car_Loc1.value.split("|")[5]),$("#countryName").val(hid_car_Loc1.value.split("|")[5]),$("#stateCode").val(stateCode),$("#startingLocationName").val(hid_car_Loc.value.split("|")[0]),$("#startingLocationCode").val(hid_car_Loc.value),$("#startingCountryCode").val("0"),$("#endingCountryCode").val("0"),$("#endingLocationName").val(hid_car_Loc1.value.split("|")[0]),$("#endingLocationCode").val(hid_car_Loc1.value),$("#carType").val(Car_Type.value),$("#vacationPkg").val("N"),$("#isbackOfficePartnerLink").val("0"),$("#enabledPublicDCLogin").val("0"),$("#enableConsumerRegion").val("0"),$("#actionTyp").val("0"),$("#bookType").val("0"),$("#consumerCountryId").val(C_Country.value),$("#consumerRegionId").val(C_Country.value),$("#consumerCurrencyCode").val(C_consumerCurrencyCode.value),$("#vacationpkg").val("N"),$("#tripType").val("R"),$("#discountCouponNo").val(discountCoupon_No_C.value),hid_car_Loc1.value.split("|")[0]!=car_Loc1.value)return $("#hid_car_Loc1").val(""),validate("formC");if(hid_car_Loc.value.split("|")[0]!=car_Loc.value)return $("#hid_car_Loc").val(""),
validate("formC");document.forms.ResPkgSearchForm.action=subURL+"Search.do?method=loadWithResults"}}function setActivityChildAges(){var e="",t=$("#numberOfChilds").val();if(t>0)for(var a=1;t>=a;a++)e=e+$("#A_R1childage_"+a).val()+",";return e}function setRoomOccupancy(e,t,a){if("F"==e||"A"==e){var o=0,n=0,l=0,i="",r=t.split("@");for(s=0;s<r.length-1;s++){var c=r[s].split("|");for(j=0;j<c.length-5;j++)if(o+=parseInt(c[0]),n+=parseInt(c[1]),l+=parseInt(c[5]),parseInt(c[1])>0)if("F"==e){var d=c[2].split(",");for(j=0;j<d.length;j++)"1"==d[j]?(isNaN(l)&&(l=0),n--,l++,i+=d[j]+","):i+=d[j]+","}else i+=c[2]+",",parseInt(l)>0&&(n++,l--,i+="2,")}var s=0;if($("#R"+(s+1)+"occAdults_"+e).val(o),$("#R"+(s+1)+"occChildren_"+e).val(n),$("#R"+(s+1)+"occInfant_"+e).val(l),n>0&&l>0){showages(e,1,n+l);var d=i.split(",");for(j=0;j<d.length;j++)"1"==d[j]&&$("#"+e+"_R1childage_"+(j+1)).hide(),$("#"+e+"_R1childage_"+(j+1)).val(d[j])}else if(n>0){showages(e,1,n);var d=i.split(",");for(j=0;j<d.length;j++)$("#"+e+"_R1childage_"+(j+1)).val(d[j])}}else{var r=t.split("@");for(roomocc(e,r.length-1,a),$("#norooms_"+e).val(r.length-1),s=0;s<r.length-1;s++){var c=r[s].split("|");for(j=0;j<c.length-5;j++)("H"==e||"C"==e)&&parseInt(c[5])>0&&(c[1]=parseInt(c[1])+1,c[2]=c[2]+",2"),$("#R"+(s+1)+"occChildren_"+e).val(c[1]),$("#R"+(s+1)+"occAdults_"+e).val(c[0]),$("#R"+(s+1)+"occInfant_"+e).val(c[5]),showages(e,s+1,c[1]);var i=c[2].split(",");for(k=0;k<i.length;k++)$("#"+e+"_R"+(s+1)+"childage_"+(k+1)).val(i[k])}}}function initTabs(e){$("#tabs").tabs({selected:e})}function ShowHide(){$(".moreinfo").toggle(),setTimeout("resizeContainer()",200)}function showRibbon(e){e?$("#ribbon").show():$("#ribbon").hide()}function fillForm(eng){var hasWjt=!1,wjtName="";$.getUrlVar("wjt")&&(wjtName=$.getUrlVar("wjt"),hasWjt=!0);try{window!=window.parent&&(hasWjt?eval("window.parent."+wjtName+'.fillForm("'+eng+'");'):window.parent.fillForm(eng))}catch(e){}internalBEC||(changeCss($("#bookingChannel").val()),$("#bec_wrapper_div").show("slow"))}function resizeContainer(e){try{try{resizeParent(e)}catch(t){}bec_name&&""!=bec_name&&window.parent.document.getElementById(bec_name)&&resizeParent(bec_name)}catch(t){}}function hideHolidays(){$("#vLi").hide(),$("#pLi").hide()}function getTabNumber(e){return"V"==e?0:"F"==e?1:"H"==e?2:"A"==e?3:"C"==e?4:"T"==e?5:void 0}function filterTabs(e){initTabs(getTabNumber(e.charAt(0))),$("#vLi").hide(),$("#fLi").hide(),$("#hLi").hide(),$("#aLi").hide(),$("#cLi").hide(),$("#tLi").hide();e.indexOf("V")>-1&&$("#vLi").show(),e.indexOf("F")>-1&&$("#fLi").show(),e.indexOf("H")>-1&&$("#hLi").show(),e.indexOf("A")>-1&&$("#aLi").show(),e.indexOf("C")>-1&&$("#cLi").show(),e.indexOf("T")>-1&&$("#tLi").show()}function changeCss(e){var t="";"WEB"==e?t="css/style.css":"CC"==e&&(t="css/style_CC.css"),Sid.css([t],"","head"),setTimeout("hideMask()",200)}function showDest(){$(".destination_country_AS").css("display","block"),$(".destination_country_HS").css("display","block"),$(".destination_country_A").css("display","block"),$(".destination_country_H").css("display","block")}function hideMask(){$("#mm").hide(200)}function changeWidth(e){"A"==e||("CC"==e?$("#main_container").css("width","350px"):$("#main_container").css("width","400px"))}function resetLookupValues(){try{""==$("#hid_H_Loc").val()&&$("#H_Loc").val("")}catch(e){}try{""==$("#hid_AC_Loc").val()&&$("#activity_Loc").val("")}catch(e){}try{""==$("#hid_car_Loc").val()&&$("#car_Loc").val(""),""==$("#hid_car_Loc1").val()&&$("#car_Loc1").val("")}catch(e){}try{""==$("#hid_air_Loc_a").val()&&$("#air_Loc_a").val(""),""==$("#hid_air_Loc1_a").val()&&$("#air_Loc1_a").val("")}catch(e){}try{""==$("#V_DepFromHid").val()&&$("#V_DepFrom").val(""),""==$("#V_RetLocHid").val()&&$("#V_RetLoc").val("")}catch(e){}try{""==$("#hid_pickUpCity_H_Loc").val()&&$("#pickUpCity_H_Loc").val(""),""==$("#hid_pickUpCity_A_Loc").val()&&$("#pickUpCity_A_Loc").val("")}catch(e){}}function resizeParentSize(e,t){null==e&&(e="bec_container_frame");var a=window.parent.document.getElementById(e),o=a.contentWindow.document.body.offsetHeight;0==o&&setTimeout('resizeParent("'+e+'")',200),"bec_container_frame"==e&&(300>o?t>3?a.style.height=o+10+"px":a.style.height=o+10+"px":a.style.height="506px")}function resizeParent(e){null==e&&(e="bec_container_frame");var t=window.parent.document.getElementById(e),a=t.contentWindow.document.body.offsetHeight;(0==a||1==a)&&setTimeout('resizeParent("'+e+'")',200),350>a&&(a=330),"bec_container_frame"==e?t.style.height=a+80+"px":t.style.height=a+10+"px"}function callbackHotels(e){localHotelList=e}function fillHotelNames(){$(document).ready(function(){})}function sort_by_hotel(e,t,a){return t=t?-1:1,function(o,n){return o=o[e],n=n[e],"undefined"!=typeof a&&(o=a(o),n=a(n)),n>o?-1*t:o>n?1*t:0}}function matcher_hotel(e,t){var a=new RegExp("(^)("+e+")(?![^<>]*>)(?![^&;]+;)","gi").test(t);return a}function createLabel_hotel(e){var t="";return""!=e.HotelName&&(t=e.HotelName),t}function makehotelListUrl(){var e=$("#serviceHost").val(),t=$("#serviePortal").val(),a=window.location+"";a.split("/");hotel_list_url="http://"+e+"/content/"+t+"/hotel_List_s5.js"}function gt(e,t){try{return document.getElementById(t).contentWindow.document.getElementById(e)}catch(a){}}function gtFrame(e){try{return document.getElementById(e).contentWindow}catch(t){}}function convertJson(e,t){var a=e.elements.length,o={};for(i=0;i<a;i++)try{var n=e.elements[i].name,l=e.elements[i].value;t?o[n]=escape(l):o[n]=l}catch(r){alert(r)}return o}function convertQ(e){var t=e.elements.length,a="";for(i=0;i<t;i++)try{var o=e.elements[i].name,n=e.elements[i].value;a+="&"+o+"="+escape(n)}catch(l){}return a}function refilFpackageDates(){var e=new Date,t=e.getFullYear(),a=$("#Travel_On")[0];for(a.options.length=0,a.options[a.options.length]=new Option("Any","-"),x=e.getMonth();x<12;x++)a.options[a.options.length]=new Option(getMonthName(x)+" "+t,x+1+"-"+t);for(x=0;x<e.getMonth();x++)a.options[a.options.length]=new Option(getMonthName(x)+" "+(t+1),x+1+"-"+(t+1))}function getMonthName(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December"}}function becConfigLoad(){var becConfig=$.cookie("becConfig");null!=becConfig&&""!=becConfig&&void 0!=becConfig?loadConfig(JSON.parse($.cookie("becConfig"))):$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"text",cache:!0,data:{callBack:"loadConfig",cacheEnable:"Y",bookingChannel:"WEB"},success:function(data){eval(data)},done:function(data){eval(data)}})}function becFilterLoad(e){try{currentModule=e,"H"==currentModule?loadHotelNameViaEar():"F"==currentModule||("C"==currentModule?loadCarTypeViaEar():"T"==currentModule||("A"==currentModule?loadProgramTypeViaEar():"V"==currentModule||"FP"==currentModule&&loadPackageTypeViaEar()))}catch(t){}try{loadPrefCurViaEar()}catch(t){}}function loadPrefCurViaEar(){$(document).ready(function(){var e=$.cookie("becPrefCur");null!=e&&""!=e&&void 0!=e?loadPrefCur(JSON.parse($.cookie("becPrefCur"))):$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"script",xhr:function(){return jQuery.browser.msie&&jQuery.browser.msie?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},data:{callBack:"loadPrefCur",cacheEnable:"N",dataField:"prefCurrency",bookingChannel:"WEB"},success:function(){}})})}function loadHotelTypeViaEar(){$(document).ready(function(){null!=$.cookie("becHotelType")?loadHotelType(JSON.parse($.cookie("becHotelType"))):$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"script",xhr:function(){return jQuery.browser.msie&&jQuery.browser.msie?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},data:{callBack:"loadHotelType",cacheEnable:"N",dataField:"hotelType",bookingChannel:"WEB"},success:function(){}})})}function loadPackageTypeViaEar(){$(document).ready(function(){null!=$.cookie("becPackageType")?loadPackageType(JSON.parse($.cookie("becPackageType"))):$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"script",xhr:function(){return jQuery.browser.msie&&jQuery.browser.msie?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},data:{callBack:"loadPackageType",cacheEnable:"N",dataField:"pkgType",bookingChannel:"WEB"},success:function(){}})})}function loadStarRatingViaEar(){$(document).ready(function(){$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"script",xhr:function(){return jQuery.browser.msie&&jQuery.browser.msie?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},data:{callBack:"loadStarRating",cacheEnable:"N",dataField:"starRating",bookingChannel:"WEB"},success:function(){}})})}function loadCarTypeViaEar(){$(document).ready(function(){null!=$.cookie("becCarType")?loadCarType(JSON.parse($.cookie("becCarType"))):$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"script",xhr:function(){return jQuery.browser.msie&&jQuery.browser.msie?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},data:{callBack:"loadCarType",cacheEnable:"N",dataField:"carType",bookingChannel:"WEB"},success:function(){}})})}function loadHotelNameViaEar(){$(document).ready(function(){jQuery("#H_name").autocomplete({minLength:2,source:function(e,t){$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"script",xhr:function(){return jQuery.browser.msie&&jQuery.browser.msie?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},data:{term:e.term,callBack:"loadHotelName",cacheEnable:"N",dataField:"hotelName",otherParams:$("#hid_H_Loc").val().split("|")[0],bookingChannel:"WEB"},success:function(){t(hotelNameList)}})}}),$("#H_name").bind("autocompleteselect",function(e,t){$("#H_ridecode").val(t.item.rideId)})})}function loadProgramTypeViaEar(){try{$(document).ready(function(){null!=$.cookie("becProgramType")?loadProgramType(JSON.parse($.cookie("becProgramType"))):$.ajax({url:subURL+"ComponentSupport.do?method=getBookingEngineFiltersAndCustomization",dataType:"script",xhr:function(){return jQuery.browser.msie&&jQuery.browser.msie?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},data:{callBack:"loadProgramType",cacheEnable:"N",dataField:"activityTypeId",bookingChannel:"WEB"},success:function(){}})})}catch(e){alert(e)}}function loadConfig(e){var t="Y",a="Y",o="Y",n="Y",l="Y",i="Y",r="Y",c="Y",d="Y",s="Y",u="Y",_="Y",v="Y",m="Y",p="Y",y="Y",g="Y",h=e;if(""!=h)for(var f=0;f<h.length;f++)t=h[f].prefAirline,a=h[f].airClass,o=h[f].prefNonStop,n=h[f].promCode,l=h[f].prefCur,i=h[f].starRating,r=h[f].hotelType,c=h[f].invType,d=h[f].priceLvl,s=h[f].carType,u=h[f].actType,_=h[f].pkgType,v=h[f].hotelName,m=h[f].resCountry,p=h[f].destCountry,y=h[f].defaultCity,g=h[f].showflex;if("N"==t&&($("#pref_airline_F").css("display","none"),$("#pref_airline_V").css("display","none")),"N"==a&&($("#air_class_F").css("display","none"),$("#air_class_V").css("display","none")),"N"==o&&$("#pref_nonstop_F").css("display","none"),"N"==n&&($("#promotionCodeDiv_F").css("display","none"),$("#promotionCodeDiv_H").css("display","none"),$("#promotionCodeDiv_C").css("display","none"),$("#promotionCodeDiv_A").css("display","none"),$("#promotionCodeDiv_V").css("display","none")),"N"==l&&($("#pref_cur_F").css("display","none"),$("#pref_cur_H").css("display","none"),$("#car_curr_div").css("display","none"),$("#t_curr_div").css("display","none"),$("#ac_curr_lbl_div").css("display","none"),$("#pref_cur_V").css("display","none"),$("#air_curr_div").css("display","none")),"N"==i&&($("#star_rating_div_H").css("display","none"),$("#star_rating_div_V").css("display","none")),"N"==r&&($("#hotel_type_H").css("display","none"),$("#hotel_type_V").css("display","none")),"N"==v&&$("#hotel_name_H").css("display","none"),"N"==c&&$("#inv_type_H").css("display","none"),"N"==d&&$("#prc_lvl_H").css("display","none"),"N"==s&&$("#car_type_C").css("display","none"),"N"==u&&$("#act_type_A").css("display","none"),"N"==_&&$("#pkg_type_P").css("display","none"),"N"==g&&$("#flax_container_div").css("display","none"),"N"==m)try{$("#t_res_country_div").css("display","none"),$("#h_res_country_div").css("display","none"),$("#v_res_country_div").css("display","none"),$("#fp_res_country_div").css("display","none"),$("#f_res_country_div").css("display","none"),$("#c_res_country_div").css("display","none"),$("#a_res_country_div").css("display","none"),$("#V_Country").attr("validate",""),$("#C_Country").attr("validate",""),$("#tr_Country").attr("validate",""),$("#AC_Country").attr("validate",""),$("#P_Country").attr("validate",""),$("#F_Country").attr("validate",""),$("#H_Country").attr("validate","")}catch(C){}if("N"==p)try{$(".destination_country_AS").css("display","none"),$(".destination_country_HS").css("display","none"),$(".destination_country_A").css("display","none"),$(".destination_country_H").css("display","none")}catch(C){}if("Y"!=y&&"N"!=y)try{var L=y.split(",");$("#H_Loc").val(L[0]),$("#hid_H_Loc").val(L[1]),$("#activity_Loc").val(L[0]),$("#hid_AC_Loc").val(L[1])}catch(C){}if(null==$.cookie("becConfig")){var b=[{prefAirline:t,airClass:a,prefNonStop:o,promCode:n,prefCur:l,starRating:i,hotelType:r,invType:c,priceLvl:d,carType:s,actType:u,pkgType:_,hotelName:v,resCountry:m,destCountry:p,showflex:g,defaultCity:y}],T=new Date;T.setTime(T.getTime()+60*cookieExpMin*1e3),$.cookie("becConfig",JSON.stringify(b),{expires:T})}void 0!=document.forms.form1.elements.Air_TripType2&&document.forms.form1.elements.Air_TripType2.checked}function loadPrefCur(e){var t=e;""!=t&&("H"==currentModule?reLoadSelectList("H_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"):"F"==currentModule?reLoadSelectList("F_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"):"C"==currentModule?reLoadSelectList("C_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"):"T"==currentModule?reLoadSelectList("tr_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"):"A"==currentModule?reLoadSelectList("AC_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"):"V"==currentModule?reLoadSelectList("V_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"):"FP"==currentModule?reLoadSelectList("FP_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"):(reLoadSelectList("H_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"),reLoadSelectList("F_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"),reLoadSelectList("C_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"),reLoadSelectList("tr_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"),reLoadSelectList("AC_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"),reLoadSelectList("V_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur"),reLoadSelectList("FP_consumerCurrencyCode",t,"","选择货币种类",!1,"becPrefCur")))}function loadHotelName(e){hotelNameList=e}function loadHotelType(e){var t=e;""!=t&&("H"==currentModule?reLoadSelectList("hType_h",t,"ALL","全选",!0,"becHotelType"):"V"==currentModule&&reLoadSelectList("hType_v",t,"ALL","全选",!0,"becHotelType"))}function loadStarRating(e){var t=e;""!=t&&("H"==currentModule?reLoadSelectList("star_rating_H",t,"ALL","全选",!0,"becStarRating"):"V"==currentModule&&reLoadSelectList("star_rating_V",t,"ALL","全选",!0,"becStarRating"))}function loadCarType(e){var t=e;""!=t&&"C"==currentModule&&reLoadSelectList("Car_Type",t,"ALL","全选",!0,"becCarType")}function loadProgramType(e){try{var t=e;""!=t&&reLoadSelectList("activityTypeId_a",t,"ALL","全选",!0,"becProgramType")}catch(a){alert(a)}}function reLoadSelectList(e,t,a,o,n,l){try{null!=o&&""!=o&&(n?$("#"+e).empty().append($("<option selected='selected'></option>").val(a).html(o)):$("#"+e).empty().append($("<option selected='selected' style='display:none'></option>").val(a).html(o)));for(var i=0;i<t.length;i++)$("#"+e).append($("<option></option>").val(t[i].value).html(t[i].label));if(null==$.cookie(l)){var r=[];for(var c in t){var d=t[c];r.push({value:d.value,label:d.label})}var s=new Date;s.setTime(s.getTime()+60*cookieExpMin*1e3),$.cookie(l,JSON.stringify(r),{expires:s})}}catch(u){alert(u)}}function createXMLHttpRequest(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new XMLHttpRequest}catch(e){}return null}function defaultDataWithRegionAndCountry(ex){var statusOfHideResidanceCountry="",defaultRegionAndCountryCodes="";$(document).ready(function(){try{$.ajax({url:subURL+"ComponentSupportAction.do",method:"GET",data:{method:"getDefaultRegionAndCountryCodes",bookingChannel:"WEB"},dataType:"text",success:function(data){var defaultCountryList=eval(data);if(void 0!=defaultCountryList&&defaultCountryList.length>0&&(statusOfHideResidanceCountry=defaultCountryList[0].statusOfHideResidanceCountry,defaultRegionAndCountryCodes=defaultCountryList[0].defaultRegionAndCountryCodes,"Y"==statusOfHideResidanceCountry)){var en=ex;"T"==ex&&(en="tr"),$("#"+en+"_Country").val(defaultRegionAndCountryCodes)}$("#pkgType").val(ex),eval("LoadData_"+ex+"()"),submitData()}})}catch(e){alert(e)}})}function validatePriceFilter(){$(document).ready(function(){$("#priceLevelFrom_H, #priceLevelTo_H").keydown(function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()})})}function getDateFormat(e){return $.datepicker.formatDate("dd M yy",new Date(e))}function getOriginalDateFormat(e){new Date(e);return $.datepicker.formatDate("mm/dd/yy",new Date(e))}var schemaName="ctReservations",subURL="http://picc-stg.secure-reservation.com/piccReservations/",cookieExpMin=40,dateFormatKey="dd M yy",internalBEC=!1;$.extend({getUrlVars:function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<a.length;o++)e=a[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t},getUrlVar:function(e){return $.getUrlVars()[e]}});var hotel_list_url="",localHotelList,ncache={};$(document).ready(function(){}),$(".show_filter").unbind("click"),$(".show_filter").click(function(){var e=$(this).parentsUntil("main_holder").find(".bec_container_div")[0];$(this).parentsUntil("main_holder").find(".morefilters").is(":visible")?($(this).parentsUntil("main_holder").find(".show_filter").html("高级搜索 &nbsp;<span id='arrow_down' class='arrow_down'>&nbsp;&nbsp;&nbsp;</span>"),$(this).parentsUntil("main_holder").find("#arrow_up").toggleClass("arrow_up arrow_down"),$(this).parentsUntil("main_holder").find(".morefilters").hide("fast",function(){e.scrollTop=0})):($(this).parentsUntil("main_holder").find(".show_filter").html("隐藏额外的查询条件 &nbsp;<span id='arrow_up' class='arrow_up'>&nbsp;&nbsp;&nbsp;</span>"),$(this).parentsUntil("main_holder").find(".morefilters").show("fast",function(){e.scrollTop=e.scrollHeight}),$(this).parentsUntil("main_holder").find("#arrow_down").toggleClass("arrow_down arrow_up")),setTimeout("resizeContainer()",300)});var currentModule="ALL",hotelNameList;$(".hotel-passenger-label-text").hide(),validatePriceFilter();
